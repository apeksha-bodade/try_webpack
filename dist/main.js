!function(n){var o={};function c(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=n,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c(c.s=0)}([function(e,t,n){"use strict";n.r(t);n(1),n(2)},function(e,t,n){},function(e,t){function s(n){console.log("Was called ".concat(n));var e=new Promise(function(e,t){c.open("DELETE","http://localhost:3000/todo/".concat(n),!1),c.onload=function(){4===c.readyState&&200===c.status?e():(console.log("fail"),t(c.status))},c.send(null)});return e.then(function(){console.log("Successfully deleted element")}).catch(function(e){console.log("Delete 'Failed' with status ".concat(e))}),e}function n(){return new Promise(function(e,t){var n;c.onreadystatechange=function(){4===c.readyState&&200===c.status&&(n=JSON.parse(c.responseText),e(n)),404===c.status&&(t(c.status),console.log("File or resource not found"))},c.open("GET","http://localhost:3000/todo",!1),c.send()})}function d(e,t){Array.prototype.forEach.call(e,function(e){e.onclick=function(){e.checked&&(function(n,o){var e=new Promise(function(e,t){c.open("PATCH","http://localhost:3000/todo/".concat(n),!1),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){4===c.readyState&&200===c.status?e():t(c.status)},c.send("status=".concat(o))});e.then(function(){console.log("Successfully updated")}).catch(function(e){console.log("Failed with status".concat(e))})}(e.parentElement.parentElement.getElementsByTagName("span")[1].innerHTML,t),o(t))}})}function p(e,t){var n=document.createElement("span");n.title=t;var o=document.createElement("input");return o.type="checkbox",o.className="check_".concat(t),o.name="check_".concat(t),e===t&&(o.checked=!0,o.disabled=!0),n.appendChild(o),n}var c=new XMLHttpRequest,o=function(l){console.log("I'm called with status ".concat(l));var e=n();return e.then(function(e){return console.log("Successful"),e}).then(function(e){var t=[];e.forEach(function(e){e.status===l&&t.push(e)}),document.getElementById("demo").innerHTML="";var n=document.getElementById("demo"),o=document.createElement("div");o.className="flex-container",t.forEach(function(e){var t=function(e,t){var n=document.createElement("div");n.className="li_element";var o=document.createElement("span");o.className="task";var c=document.createTextNode(e.task);o.appendChild(c);var a=document.createElement("span");a.className="span_key";var r=document.createTextNode(e.id);a.appendChild(r);var l=document.createElement("button"),s=document.createTextNode("x");l.className="close",l.appendChild(s);var d=p(t,"todo"),u=p(t,"inprogress"),i=p(t,"done");return n.appendChild(o),n.appendChild(a),n.appendChild(l),n.appendChild(d),n.appendChild(u),n.appendChild(i),n}(e,l);o.appendChild(t)}),n.appendChild(o),function(){var e=document.getElementsByClassName("close");Array.prototype.forEach.call(e,function(t){t.onclick=function(){t.parentElement.style.display="none";var e=t.parentElement.getElementsByTagName("span")[1].innerHTML;s(e)}})}();var c=document.getElementsByClassName("check_todo"),a=document.getElementsByClassName("check_inprogress"),r=document.getElementsByClassName("check_done");d(c,"todo"),d(a,"inprogress"),d(r,"done")}).catch(function(e){console.log("Reading data Failed with status ".concat(e))}),e};document.getElementsByTagName("body")[0].addEventListener("load",o("todo"));var a=document.getElementById("li_todo"),r=document.getElementById("li_inprogress"),l=document.getElementById("li_done");a.addEventListener("click",function(){o("todo")}),r.addEventListener("click",function(){o("inprogress")}),l.addEventListener("click",function(){o("done")})}]);